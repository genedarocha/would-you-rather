{"ast":null,"code":"import _classCallCheck from \"/Users/genedarocha/Documents/dev-create-software/udacity-react-programming-course/Would-You-Rather-Project2/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/genedarocha/Documents/dev-create-software/udacity-react-programming-course/Would-You-Rather-Project2/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/genedarocha/Documents/dev-create-software/udacity-react-programming-course/Would-You-Rather-Project2/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/genedarocha/Documents/dev-create-software/udacity-react-programming-course/Would-You-Rather-Project2/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/genedarocha/Documents/dev-create-software/udacity-react-programming-course/Would-You-Rather-Project2/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/genedarocha/Documents/dev-create-software/udacity-react-programming-course/Would-You-Rather-Project2/src/components/QuestionDetails.js\";\n\n/*      File Name   : QuestionDetails.js\n        Date        : 31st May 2020\n        Description : This is the QuestionDetails.js file which allows users to see the details for each question.\n*/\nimport React, { PureComponent } from 'react';\nimport { Card, CardHeader, CardBody, CardTitle, FormGroup, Label, Input, Form, Button, Row, Col } from 'reactstrap';\nimport { connect } from 'react-redux';\nimport User from './User';\nimport { handleAnswer } from '../actions/shared';\nimport PropTypes from 'prop-types';\n\nvar QuestionDetails = /*#__PURE__*/function (_PureComponent) {\n  _inherits(QuestionDetails, _PureComponent);\n\n  function QuestionDetails() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, QuestionDetails);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(QuestionDetails)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      selectedOption: ''\n    };\n\n    _this.radioSelected = function (e) {\n      _this.setState({\n        selectedOption: e.target.value\n      });\n    };\n\n    _this.handleSubmit = function (e) {\n      e.preventDefault();\n\n      _this.props.saveQuestionAnswer(_this.state.selectedOption);\n    };\n\n    return _this;\n  }\n\n  _createClass(QuestionDetails, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          question = _this$props.question,\n          questionAuthor = _this$props.questionAuthor,\n          answer = _this$props.answer,\n          total = _this$props.total,\n          percOne = _this$props.percOne,\n          percTwo = _this$props.percTwo;\n      var selectedOption = this.state.selectedOption;\n      return /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        sm: \"12\",\n        md: {\n          size: 6,\n          offset: 3\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(CardHeader, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(User, {\n        id: questionAuthor.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 15\n        }\n      })), /*#__PURE__*/React.createElement(CardBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(CardTitle, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 15\n        }\n      }, \"Would You Ratherx\"), answer ? /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(FormGroup, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(FormGroup, {\n        check: true,\n        disabled: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Label, {\n        check: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(Input, {\n        type: \"radio\",\n        checked: answer === \"optionOne\",\n        readOnly: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 25\n        }\n      }), ' ', question.optionOne.text)), /*#__PURE__*/React.createElement(FormGroup, {\n        check: true,\n        disabled: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Label, {\n        check: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(Input, {\n        type: \"radio\",\n        checked: answer === \"optionTwo\",\n        readOnly: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 25\n        }\n      }), ' ', question.optionTwo.text))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"progress\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"progress-one\",\n        style: {\n          width: \"\".concat(percOne, \"%\")\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }\n      }, \"\".concat(percOne, \"%\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"progress-two\",\n        style: {\n          width: \"\".concat(percTwo, \"%\")\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }\n      }, \"\".concat(percTwo, \"%\"))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"total\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 19\n        }\n      }, \"Total number of votes: \", total)) : /*#__PURE__*/React.createElement(Form, {\n        onSubmit: this.handleSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(FormGroup, {\n        tag: \"fieldset\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(FormGroup, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Label, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(Input, {\n        type: \"radio\",\n        name: \"radio1\",\n        value: \"optionOne\",\n        onChange: this.radioSelected,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 25\n        }\n      }), ' ', question.optionOne.text)), /*#__PURE__*/React.createElement(FormGroup, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Label, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(Input, {\n        type: \"radio\",\n        name: \"radio1\",\n        value: \"optionTwo\",\n        onChange: this.radioSelected,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 25\n        }\n      }), ' ', question.optionTwo.text))), /*#__PURE__*/React.createElement(Button, {\n        disabled: selectedOption === '',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 19\n        }\n      }, \"Submit\"))))));\n    }\n  }]);\n\n  return QuestionDetails;\n}(PureComponent);\n\nQuestionDetails.propTypes = {\n  question: PropTypes.object,\n  questionAuthor: PropTypes.object,\n  answer: PropTypes.string,\n  percOne: PropTypes.string.isRequired,\n  percTwo: PropTypes.string.isRequired\n};\n\nfunction financial(x) {\n  return Number.parseFloat(x).toFixed(2);\n}\n\nfunction mapStateToProps(_ref, _ref2) {\n  var questions = _ref.questions,\n      users = _ref.users,\n      authedUser = _ref.authedUser;\n  var match = _ref2.match;\n  var answers = users[authedUser].answers;\n  var answer, percOne, percTwo, total;\n  var id = match.params.id;\n  var question = questions[id];\n\n  if (answers.hasOwnProperty(question.id)) {\n    answer = answers[question.id];\n  }\n\n  var questionAuthor = users[question.author];\n  total = question.optionOne.votes.length + question.optionTwo.votes.length;\n  percOne = financial(question.optionOne.votes.length / total * 100);\n  percTwo = financial(question.optionTwo.votes.length / total * 100);\n  return {\n    question: question,\n    questionAuthor: questionAuthor,\n    answer: answer,\n    total: total,\n    percOne: percOne,\n    percTwo: percTwo\n  };\n}\n\nfunction mapDispatchToProps(dispatch, props) {\n  var id = props.match.params.id;\n  return {\n    saveQuestionAnswer: function saveQuestionAnswer(answer) {\n      dispatch(handleAnswer(id, answer));\n    }\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(QuestionDetails);","map":{"version":3,"sources":["/Users/genedarocha/Documents/dev-create-software/udacity-react-programming-course/Would-You-Rather-Project2/src/components/QuestionDetails.js"],"names":["React","PureComponent","Card","CardHeader","CardBody","CardTitle","FormGroup","Label","Input","Form","Button","Row","Col","connect","User","handleAnswer","PropTypes","QuestionDetails","state","selectedOption","radioSelected","e","setState","target","value","handleSubmit","preventDefault","props","saveQuestionAnswer","question","questionAuthor","answer","total","percOne","percTwo","size","offset","id","optionOne","text","optionTwo","width","propTypes","object","string","isRequired","financial","x","Number","parseFloat","toFixed","mapStateToProps","questions","users","authedUser","match","answers","params","hasOwnProperty","author","votes","length","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["  /*      File Name   : QuestionDetails.js\n          Date        : 31st May 2020\n          Description : This is the QuestionDetails.js file which allows users to see the details for each question.\n  */\n\nimport React, { PureComponent } from 'react';\nimport { Card, CardHeader,CardBody, CardTitle, FormGroup, Label, Input, Form, Button, Row, Col} from 'reactstrap';\nimport { connect } from 'react-redux';\nimport User from './User';\nimport { handleAnswer } from '../actions/shared';\nimport PropTypes from 'prop-types';\n\nclass QuestionDetails extends PureComponent {\n  state = {\n    selectedOption: ''\n  };\n\n  radioSelected = (e) => {\n    this.setState({\n      selectedOption: e.target.value\n    });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    this.props.saveQuestionAnswer(this.state.selectedOption);\n  };\n\n  render() {\n    const { question, questionAuthor, answer, total, percOne, percTwo} = this.props;\n    const { selectedOption } = this.state;\n\n    return (\n      <Row>\n        <Col sm=\"12\" md={{ size: 6, offset: 3 }}>\n          <Card>\n            <CardHeader>\n              <User id={questionAuthor.id}/>\n            </CardHeader>\n            <CardBody>\n              <CardTitle>Would You Ratherx</CardTitle>\n              {answer ?\n                <div>\n                  <FormGroup>\n                    <FormGroup check disabled>\n                      <Label check>\n                        <Input type=\"radio\" checked={answer===\"optionOne\"} readOnly/>{' '}\n                        {question.optionOne.text}\n                      </Label>\n                    </FormGroup>\n                    <FormGroup check disabled>\n                      <Label check>\n                        <Input type=\"radio\" checked={answer===\"optionTwo\"} readOnly/>{' '}\n                        {question.optionTwo.text}\n                      </Label>\n                    </FormGroup>\n                  </FormGroup>\n                  <div className=\"progress\">\n                    <div className=\"progress-one\" style={{ width: `${percOne}%` }}>{`${percOne}%`}</div>\n                    <div className=\"progress-two\" style={{ width: `${percTwo}%` }}>{`${percTwo}%`}</div>\n                  </div>\n                  <div className=\"total\">\n                    Total number of votes: {total}\n                  </div>\n                </div>:\n                <Form onSubmit={this.handleSubmit}>\n                  <FormGroup tag=\"fieldset\">\n                    <FormGroup >\n                      <Label >\n                        <Input type=\"radio\" name=\"radio1\" value=\"optionOne\" onChange={this.radioSelected} />{' '}\n                        {question.optionOne.text}\n                      </Label>\n                    </FormGroup>\n                    <FormGroup >\n                      <Label >\n                        <Input type=\"radio\" name=\"radio1\" value=\"optionTwo\" onChange={this.radioSelected} />{' '}\n                        {question.optionTwo.text}\n                      </Label>\n                    </FormGroup>\n                  </FormGroup>\n                  <Button disabled={selectedOption === ''}>Submit</Button>\n                </Form>\n              }\n            </CardBody>\n          </Card>\n        </Col>\n      </Row>\n    );\n  }\n}\n\nQuestionDetails.propTypes = {\n  question: PropTypes.object,\n  questionAuthor: PropTypes.object,\n  answer: PropTypes.string,\n  percOne: PropTypes.string.isRequired,\n  percTwo: PropTypes.string.isRequired\n};\n\nfunction financial(x) {\n  return Number.parseFloat(x).toFixed(2);\n}\n\nfunction mapStateToProps ({ questions, users, authedUser }, { match }) {\n  const answers = users[authedUser].answers;\n  let answer, percOne, percTwo, total;\n  const { id } = match.params;\n  const question = questions[id];\n  if (answers.hasOwnProperty(question.id)) {\n    answer = answers[question.id]\n  }\n  const questionAuthor = users[question.author];\n  total = question.optionOne.votes.length + question.optionTwo.votes.length;\n  percOne = financial((question.optionOne.votes.length / total) * 100);\n  percTwo = financial((question.optionTwo.votes.length / total) * 100);\n  return {\n    question,\n    questionAuthor,\n    answer,\n    total,\n    percOne,\n    percTwo\n  }\n}\n\nfunction mapDispatchToProps(dispatch, props) {\n  const { id } = props.match.params;\n\n  return {\n    saveQuestionAnswer: (answer) => {\n      dispatch(handleAnswer(id, answer))\n    }\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(QuestionDetails)\n"]},"metadata":{},"sourceType":"module"}