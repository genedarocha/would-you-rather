{"ast":null,"code":"/*     File Name   : shared.js\n       Date        : 31st May 2020\n       Description : This file has all the shared info across the app. \n \n*/\nimport { getInitialData } from '../utils/api';\nimport { addUserQuestion, saveUserAnswer, receiveUsers } from '../actions/users';\nimport { addAQuestion, receiveQuestions, saveQuestionAnswer } from '../actions/questions';\nimport { _saveQuestionAnswer, _saveQuestion } from '../utils/_DATA';\nexport function handletheInitialData() {\n  return dispatch => {\n    return getInitialData().then(({\n      users,\n      questions\n    }) => {\n      dispatch(receiveUsers(users));\n      dispatch(receiveQuestions(questions));\n    });\n  };\n}\nexport function handleaddAQuestion(optionOneText, optionTwoText) {\n  return (dispatch, getState) => {\n    const _getState = getState(),\n          authedUser = _getState.authedUser;\n\n    return _saveQuestion({\n      optionOneText,\n      optionTwoText,\n      author: authedUser\n    }).then(question => {\n      dispatch(addAQuestion(question));\n      dispatch(addUserQuestion(authedUser, question.id));\n    });\n  };\n}\nexport function handleAnswer(qid, option) {\n  return (dispatch, getState) => {\n    const _getState2 = getState(),\n          authedUser = _getState2.authedUser;\n\n    const info = {\n      authedUser: authedUser,\n      qid,\n      answer: option\n    };\n\n    _saveQuestionAnswer(info).then(() => {\n      dispatch(saveQuestionAnswer(authedUser, qid, option));\n      dispatch(saveUserAnswer(authedUser, qid, option));\n    });\n  };\n}","map":{"version":3,"sources":["/Users/genedarocha/Documents/dev-create-software/udacity-react-programming-course/Would-You-Rather-Project2/src/actions/shared.js"],"names":["getInitialData","addUserQuestion","saveUserAnswer","receiveUsers","addAQuestion","receiveQuestions","saveQuestionAnswer","_saveQuestionAnswer","_saveQuestion","handletheInitialData","dispatch","then","users","questions","handleaddAQuestion","optionOneText","optionTwoText","getState","authedUser","author","question","id","handleAnswer","qid","option","info","answer"],"mappings":"AAAG;;;;;AAKH,SAASA,cAAT,QAA+B,cAA/B;AACA,SAASC,eAAT,EAA0BC,cAA1B,EAA0CC,YAA1C,QAA8D,kBAA9D;AACA,SAASC,YAAT,EAAuBC,gBAAvB,EAAyCC,kBAAzC,QAAmE,sBAAnE;AACA,SAASC,mBAAT,EAA8BC,aAA9B,QAAmD,gBAAnD;AAEA,OAAO,SAASC,oBAAT,GAAgC;AACnC,SAAQC,QAAD,IAAc;AACjB,WAAOV,cAAc,GAChBW,IADE,CACG,CAAC;AAAEC,MAAAA,KAAF;AAASC,MAAAA;AAAT,KAAD,KAAwB;AAC1BH,MAAAA,QAAQ,CAACP,YAAY,CAACS,KAAD,CAAb,CAAR;AACAF,MAAAA,QAAQ,CAACL,gBAAgB,CAACQ,SAAD,CAAjB,CAAR;AACP,KAJM,CAAP;AAKH,GAND;AAOH;AAED,OAAO,SAASC,kBAAT,CAA6BC,aAA7B,EAA4CC,aAA5C,EAA0D;AAC7D,SAAO,CAACN,QAAD,EAAWO,QAAX,KAAwB;AAAA,sBACJA,QAAQ,EADJ;AAAA,UACnBC,UADmB,aACnBA,UADmB;;AAE3B,WAAOV,aAAa,CAAC;AACjBO,MAAAA,aADiB;AAEjBC,MAAAA,aAFiB;AAGjBG,MAAAA,MAAM,EAAED;AAHS,KAAD,CAAb,CAKNP,IALM,CAKAS,QAAD,IAAc;AAChBV,MAAAA,QAAQ,CAACN,YAAY,CAACgB,QAAD,CAAb,CAAR;AACAV,MAAAA,QAAQ,CAACT,eAAe,CAACiB,UAAD,EAAaE,QAAQ,CAACC,EAAtB,CAAhB,CAAR;AACH,KARM,CAAP;AAUH,GAZD;AAaH;AAED,OAAO,SAASC,YAAT,CAAuBC,GAAvB,EAA4BC,MAA5B,EAAoC;AACvC,SAAO,CAACd,QAAD,EAAWO,QAAX,KAAwB;AAAA,uBACNA,QAAQ,EADF;AAAA,UACrBC,UADqB,cACrBA,UADqB;;AAE7B,UAAMO,IAAI,GAAG;AACXP,MAAAA,UAAU,EAAEA,UADD;AAEXK,MAAAA,GAFW;AAGXG,MAAAA,MAAM,EAAEF;AAHG,KAAb;;AAKAjB,IAAAA,mBAAmB,CAACkB,IAAD,CAAnB,CACKd,IADL,CACU,MAAM;AACRD,MAAAA,QAAQ,CAACJ,kBAAkB,CAACY,UAAD,EAAaK,GAAb,EAAkBC,MAAlB,CAAnB,CAAR;AACAd,MAAAA,QAAQ,CAACR,cAAc,CAACgB,UAAD,EAAaK,GAAb,EAAkBC,MAAlB,CAAf,CAAR;AACH,KAJL;AAKD,GAZD;AAaH","sourcesContent":["   /*     File Name   : shared.js\n          Date        : 31st May 2020\n          Description : This file has all the shared info across the app. \n    \n  */\nimport { getInitialData } from '../utils/api'\nimport { addUserQuestion, saveUserAnswer, receiveUsers } from '../actions/users'\nimport { addAQuestion, receiveQuestions, saveQuestionAnswer } from '../actions/questions'\nimport { _saveQuestionAnswer, _saveQuestion } from '../utils/_DATA'\n\nexport function handletheInitialData() {\n    return (dispatch) => {\n        return getInitialData()\n            .then(({ users, questions})=> {\n                dispatch(receiveUsers(users));\n                dispatch(receiveQuestions(questions))\n        })\n    }\n}\n\nexport function handleaddAQuestion (optionOneText, optionTwoText){\n    return (dispatch, getState) => {\n        const { authedUser } = getState();\n        return _saveQuestion({\n            optionOneText,\n            optionTwoText,\n            author: authedUser\n        })\n        .then((question) => {\n            dispatch(addAQuestion(question));\n            dispatch(addUserQuestion(authedUser, question.id))\n        })\n\n    }\n}\n\nexport function handleAnswer (qid, option) {\n    return (dispatch, getState) => {\n      const { authedUser } = getState();\n      const info = {\n        authedUser: authedUser,\n        qid,\n        answer: option\n      };\n      _saveQuestionAnswer(info)\n          .then(() => {\n              dispatch(saveQuestionAnswer(authedUser, qid, option));\n              dispatch(saveUserAnswer(authedUser, qid, option))\n          })\n    }\n}"]},"metadata":{},"sourceType":"module"}